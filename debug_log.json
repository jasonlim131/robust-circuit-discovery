{
  "debug_log": [
    "[START] \ud83d\udd27 STARTING SYSTEMATIC INTERVENTION DEBUGGING",
    "[INFO] \n============================================================",
    "[INFO] STEP 1: DEBUG MODEL LOADING",
    "[TEST] \n=== TESTING: PyVene Model Loading ===",
    "[INFO] PyVene model type: <class 'transformers.models.gpt2.modeling_gpt2.GPT2Model'>",
    "[INFO] Output type: <class 'transformers.modeling_outputs.BaseModelOutputWithPastAndCrossAttentions'>",
    "[INFO] Available attributes: ['attentions', 'clear', 'copy', 'cross_attentions', 'fromkeys', 'get', 'hidden_states', 'items', 'keys', 'last_hidden_state', 'move_to_end', 'past_key_values', 'pop', 'popitem', 'setdefault', 'to_tuple', 'update', 'values']",
    "[INFO] Has logits: False",
    "[PASS] \u2705 PyVene Model Loading PASSED",
    "[TEST] \n=== TESTING: Transformers Model Loading ===",
    "[INFO] Transformers model type: <class 'transformers.models.gpt2.modeling_gpt2.GPT2LMHeadModel'>",
    "[INFO] Output type: <class 'transformers.modeling_outputs.CausalLMOutputWithCrossAttentions'>",
    "[INFO] Has logits: True",
    "[INFO] Logits shape: torch.Size([1, 2, 50257])",
    "[PASS] \u2705 Transformers Model Loading PASSED",
    "[INFO] \n============================================================",
    "[INFO] STEP 2: DEBUG SIMPLE INTERVENTION",
    "[TEST] \n=== TESTING: Basic Intervention ===",
    "[INFO] Intervention config created: IntervenableConfig\n{\n    \"model_type\": \"None\",\n    \"representations\": [\n        {\n            \"layer\": 6,\n            \"component\": \"block_output\",\n            \"unit\": \"pos\",\n            \"max_number_of_units\": 1,\n            \"low_rank_dimension\": 1,\n            \"intervention_type\": null,\n            \"intervention\": null,\n            \"subspace_partition\": null,\n            \"group_key\": null,\n            \"intervention_link_key\": null,\n            \"moe_key\": null,\n            \"source_representation\": null,\n            \"hidden_source_representation\": null,\n            \"latent_dim\": null\n        }\n    ],\n    \"intervention_types\": \"<class 'pyvene.models.interventions.VanillaIntervention'>\",\n    \"mode\": \"parallel\",\n    \"sorted_keys\": \"None\",\n    \"intervention_dimensions\": \"None\"\n}",
    "[INFO] Intervenable model created successfully",
    "[INFO] Input shape: torch.Size([1, 5])",
    "[INFO] Intervention spec: {'sources->base': ([[[0]]], [[[0]]])}",
    "[INFO] Intervention successful! Output type: <class 'transformers.modeling_outputs.CausalLMOutputWithCrossAttentions'>",
    "[INFO] Counterfactual logits shape: torch.Size([1, 5, 50257])",
    "[PASS] \u2705 Basic Intervention PASSED",
    "[INFO] \n============================================================",
    "[INFO] STEP 3: DEBUG POSITION INDEXING",
    "[TEST] \n=== TESTING: Position Indexing Variations ===",
    "[INFO] Sequence length: 6",
    "[INFO] Testing First position: {'sources->base': ([[[0]]], [[[0]]])}",
    "[INFO] \u2705 First position worked",
    "[INFO] Testing Last position explicit: {'sources->base': ([[[5]]], [[[5]]])}",
    "[INFO] \u2705 Last position explicit worked",
    "[INFO] Testing Middle position: {'sources->base': ([[[3]]], [[[3]]])}",
    "[INFO] \u2705 Middle position worked",
    "[INFO] Testing -1 indexing: {'sources->base': ([[[-1]]], [[[-1]]])}",
    "[INFO] \u274c -1 indexing failed: index -1 is out of bounds for dimension 1 with size 6",
    "[PASS] \u2705 Position Indexing Variations PASSED",
    "[INFO] \n============================================================",
    "[INFO] STEP 4: DEBUG ATTENTION HEAD INTERVENTIONS",
    "[TEST] \n=== TESTING: Attention Head Intervention ===",
    "[INFO] Attention head config: IntervenableConfig\n{\n    \"model_type\": \"None\",\n    \"representations\": [\n        {\n            \"layer\": 9,\n            \"component\": \"attention_output\",\n            \"unit\": \"head\",\n            \"max_number_of_units\": 1,\n            \"low_rank_dimension\": 1,\n            \"intervention_type\": null,\n            \"intervention\": null,\n            \"subspace_partition\": null,\n            \"group_key\": null,\n            \"intervention_link_key\": null,\n            \"moe_key\": null,\n            \"source_representation\": null,\n            \"hidden_source_representation\": null,\n            \"latent_dim\": null\n        }\n    ],\n    \"intervention_types\": \"<class 'pyvene.models.interventions.VanillaIntervention'>\",\n    \"mode\": \"parallel\",\n    \"sorted_keys\": \"None\",\n    \"intervention_dimensions\": \"None\"\n}",
    "[INFO] Testing Head 0: {'sources->base': ([[[0]]], [[[0]]])}",
    "[INFO] \u2705 Head 0 worked",
    "[INFO] Testing Head 1: {'sources->base': ([[[1]]], [[[1]]])}",
    "[INFO] \u2705 Head 1 worked",
    "[PASS] \u2705 Attention Head Intervention PASSED",
    "[INFO] \n============================================================",
    "[INFO] STEP 5: DEBUG BATCH PROCESSING",
    "[TEST] \n=== TESTING: Batch Processing ===",
    "[INFO] Batch input shape: torch.Size([3, 6])",
    "[INFO] Attention mask shape: torch.Size([3, 6])",
    "[INFO] \u2705 Batch intervention worked: torch.Size([3, 6, 50257])",
    "[PASS] \u2705 Batch Processing PASSED",
    "[INFO] \n============================================================",
    "[SUMMARY] \ud83c\udfaf DEBUGGING COMPLETE"
  ],
  "timestamp": "CPU",
  "final_status": "debugging_complete"
}